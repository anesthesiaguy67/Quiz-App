<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Interactive Quiz App</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    h1 {
      text-align: center;
    }
    .quiz-container, .form-container {
      margin-top: 30px;
      border: 1px solid #ddd;
      padding: 20px;
      border-radius: 8px;
    }
    .question {
      font-weight: bold;
    }
    .choices {
      list-style: none;
      padding: 0;
    }
    .choices li {
      margin: 8px 0;
    }
    .feedback {
      margin-top: 10px;
      font-weight: bold;
    }
    .correct {
      color: green;
    }
    .incorrect {
      color: red;
    }
    button {
      margin-top: 10px;
    }
  </style>
</head>
<body>

<h1>Interactive Quiz Creator</h1>

<div class="form-container">
  <h2>Add a Question</h2>
  <form id="question-form">
    <label>Question:<br>
      <input type="text" id="question" required>
    </label><br><br>

    <label>Choice A:<br>
      <input type="text" id="choiceA" required>
    </label><br><br>

    <label>Choice B:<br>
      <input type="text" id="choiceB" required>
    </label><br><br>

    <label>Choice C:<br>
      <input type="text" id="choiceC" required>
    </label><br><br>

    <label>Choice D:<br>
      <input type="text" id="choiceD" required>
    </label><br><br>

    <label>Correct Answer (A, B, C, or D):<br>
      <input type="text" id="correctAnswer" maxlength="1" required pattern="[ABCDabcd]">
    </label><br><br>

    <button type="submit">Add Question</button>
  </form>
</div>

<div class="quiz-container" style="display:none;">
  <h2>Quiz Time!</h2>
  <div id="quiz-content">
    <p class="question"></p>
    <ul class="choices"></ul>
    <div class="feedback" id="feedback"></div>
    <button id="next-btn" style="display:none;">Next Question</button>
  </div>
</div>

<script>
  const form = document.getElementById('question-form');
  const quizContainer = document.querySelector('.quiz-container');
  const questionEl = document.querySelector('.question');
  const choicesEl = document.querySelector('.choices');
  const feedbackEl = document.getElementById('feedback');
  const nextBtn = document.getElementById('next-btn');

  let questions = [];
  let currentQuestionIndex = 0;

  form.addEventListener('submit', function(e) {
    e.preventDefault();

    const question = document.getElementById('question').value;
    const choiceA = document.getElementById('choiceA').value;
    const choiceB = document.getElementById('choiceB').value;
    const choiceC = document.getElementById('choiceC').value;
    const choiceD = document.getElementById('choiceD').value;
    const correctAnswer = document.getElementById('correctAnswer').value.toUpperCase();

    questions.push({
      question,
      choices: {
        A: choiceA,
        B: choiceB,
        C: choiceC,
        D: choiceD
      },
      correct: correctAnswer
    });

    form.reset();
    alert("Question added!");

    if (questions.length === 1) {
      showQuestion();
    }
  });

  function showQuestion() {
    if (currentQuestionIndex >= questions.length) {
      questionEl.textContent = "You've finished the quiz!";
      choicesEl.innerHTML = "";
      feedbackEl.textContent = "";
      nextBtn.style.display = "none";
      return;
    }

    const current = questions[currentQuestionIndex];
    questionEl.textContent = current.question;
    choicesEl.innerHTML = '';
    feedbackEl.textContent = '';
    nextBtn.style.display = "none";

    for (let key in current.choices) {
      const li = document.createElement('li');
      const btn = document.createElement('button');
      btn.textContent = `${key}: ${current.choices[key]}`;
      btn.onclick = () => checkAnswer(key);
      li.appendChild(btn);
      choicesEl.appendChild(li);
    }

    quizContainer.style.display = "block";
  }

  function checkAnswer(selected) {
    const correct = questions[currentQuestionIndex].correct;
    if (selected === correct) {
      feedbackEl.textContent = "Correct!";
      feedbackEl.className = "feedback correct";
    } else {
      feedbackEl.textContent = `Incorrect. Correct answer is ${correct}.`;
      feedbackEl.className = "feedback incorrect";
    }

    const buttons = choicesEl.querySelectorAll('button');
    buttons.forEach(btn => btn.disabled = true);

    nextBtn.style.display = "inline-block";
  }

  nextBtn.addEventListener('click', () => {
    currentQuestionIndex++;
    showQuestion();
  });
</script>

</body>
</html>
